(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{890:function(t,e,r){"use strict";r.r(e);var n=r(68),o=r(69),a=r(274),i=r(7),u=r(28);function s(t,e,r,n,o,a,i){try{var u=t[a](i),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){s(a,n,o,i,u,"next",t)}function u(t){s(a,n,o,i,u,"throw",t)}i(void 0)})}}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={name:"node",mixins:[a.a],components:{listToolBar:n.a,list:o.a},data:function(){return{sortOptions:[{text:"选择排序方式",value:"index"},{text:"使用频率, 默认",value:"hot"},{text:"title",value:"title"},{text:"url",value:"url"},{text:"文件夹优先",value:"children"},{text:"添加时间",value:"dateAdded"},{text:"实际顺序, 可拖动排序",value:"index"}],sortBy:"",paths:[],bookmarkArray:[],editing:!1,goalBookmark:null}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){h(t,e,r[e])})}return t}({},Object(u.c)({reverse:function(t){return t.ui.list.reverse}}),{count:function(){return this.bookmarkArray.length}}),created:function(){this.getData()},methods:{getData:function(){var t=c(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.params.id,t.next=3,this.getBookmarksForNode(e);case 3:return this.bookmarkArray=t.sent,this.reverse&&this.bookmarkArray.reverse(),t.next=7,this.getPaths(e);case 7:this.paths=t.sent;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getBookmarksForNode:function(){var t=c(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.getChildren(e).then(function(t){return t});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getPaths:function(){var t=c(regeneratorRuntime.mark(function t(e){var r,n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[];case 1:return t.next=3,i.a.get(e).then(function(t){return t});case 3:n=t.sent,o=n[0],r.unshift(o),e=o.parentId;case 7:if(e){t.next=1;break}case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),onSortByChange:function(t){this.sortBy=t},onContextmenu:function(t,e){console.log("onContextmenu =>",t,e),this[t]&&this[t](e)},createSubFolder:function(t){this.createSubFolder(t)},edit:function(t){this.editBookmark(t)},remove:function(t){i.a.remove(t)}},watch:{$route:function(t,e){console.log("watch $route",t,e),this.getData()},"$root.event":function(t){this.getData()},sortBy:function(t){console.log("sortBy => ",t),this.$sortBookmarksBy(this.bookmarkArray,t)}}},f=r(5),p=Object(f.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("list-tool-bar",{attrs:{paths:this.paths,count:this.count,sortOptions:this.sortOptions},on:{sortByChange:this.onSortByChange}}),this._v(" "),e("list",{attrs:{bookmarkArray:this.bookmarkArray},on:{contextmenu:this.onContextmenu}})],1)},[],!1,null,"5f3a498f",null);e.default=p.exports}}]);
//# sourceMappingURL=view-node.js.map