(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{393:function(t,e,n){},394:function(t,e,n){"use strict";var o=n(393);n.n(o).a},396:function(t,e,n){"use strict";n.r(e);var o=n(4),a=n(12);function s(t,e,n,o,a,s,i){try{var r=t[s](i),c=r.value}catch(t){return void n(t)}r.done?e(c):Promise.resolve(c).then(o,a)}var i=Object(a.b)("visit"),r={name:"setting",data:function(){return{msg:""}},methods:{clean:function(){var t,e=(t=regeneratorRuntime.mark(function t(){var e,n,a,s,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get();case 2:e=t.sent,n=Object.keys(e),a=0;case 5:if(!(a<n.length)){t.next=15;break}return s=n[a],t.next=9,o.a.get(s);case 9:r=t.sent,this.msg=["无效ID:"],r||(console.log(s),i.remove(s),this.msg.push(s));case 12:a++,t.next=5;break;case 15:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(o,a){var i=t.apply(e,n);function r(t){s(i,o,a,r,c,"next",t)}function c(t){s(i,o,a,r,c,"throw",t)}r(void 0)})});return function(){return e.apply(this,arguments)}}(),download:function(){var t=this,e=a.a.getAll(),n=JSON.stringify(e),s=window.URL.createObjectURL(new Blob([n],{type:"text/plain;charset=utf-8"}));o.b.download({filename:"bookmarks2-bak.json",url:s}).then(function(e){console.log(e),t.msg="备份已下载!"})},upload:function(){var t=this,e=this.$refs.file.files[0];if(e){console.log(e);var n=new FileReader;n.onload=function(e){var n=this.result;n=JSON.parse(n),console.log(n),a.a.init(n),t.msg="恢复成功!"},n.readAsText(e)}}}},c=(n(394),n(2)),l=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"button",on:{click:t.download}},[t._v("备份配置")]),t._v(" "),n("label",{staticClass:"button",attrs:{for:"upload"},on:{click:t.upload}},[t._v("恢复配置")]),t._v(" "),n("button",{staticClass:"button",on:{click:t.clean}},[t._v("数据清洗")]),t._v(" "),n("input",{ref:"file",staticStyle:{position:"absolute",left:"-3000px"},attrs:{type:"file",id:"upload",name:"upload"},on:{change:t.upload}}),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.msg?n("div",{staticClass:"box"},[t._v(" "+t._s(t.msg))]):t._e()])],1)},[],!1,null,"d591e1ae",null);l.options.__file="setting.vue";e.default=l.exports}}]);
//# sourceMappingURL=view-setting.js.map