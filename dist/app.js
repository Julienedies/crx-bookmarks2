(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{167:function(t,e,n){},168:function(t,e,n){},169:function(t,e,n){},170:function(t,e,n){},356:function(t,e,n){"use strict";var r=n(176),o={name:"navBar",components:{searchBar:n(181).a},data:function(){return{routes:r.a}}},a=(n(573),n(5)),i=Object(a.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",[n("div",{staticClass:"search-box"},[n("search-bar")],1),t._v(" "),n("div",{staticClass:"nav-items"},t._l(t.routes,function(e){return e.title&&"search"!=e.name?n("router-link",{key:e.path,staticClass:"nav-item hvr-underline-from-center",attrs:{to:e._path||e.path}},[n("span",[t._v(" "+t._s(e.title))])]):t._e()}),1)])},[],!1,null,"e9e277c2",null).exports,c=n(6),s=n(70),u={name:"tree",props:{tree:Array,selectable:{type:Boolean,default:!1}},methods:{show:function(t){t.contextmenu||this.$router.push({path:"/node/".concat(t.id)})},edit:function(t){Object(s.b)(t)},createSubFolder:function(t){Object(s.a)(t)},remove:function(t){confirm("确认删除, 不可撤销!")&&c.a.remove(t)},toggle:function(t){this.$set(t,"extend",!t.extend)},onContextmenu:function(t,e){t.preventDefault(),this.$set(e,"contextmenu",t)},select:function(){}}};n(574);function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}var v={name:"asideBar",components:{tree:Object(a.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.tree,function(e){return n("li",{key:e.id,attrs:{node:e}},[n("div",{staticClass:"node-item",class:{extend:!e.extend,selected:e.contextmenu},on:{click:function(n){return t.show(e)},contextmenu:function(n){return t.onContextmenu(n,e)}}},[e.children&&e.children.length?n("button",{staticClass:"arrow",on:{click:function(n){return n.stopPropagation(),t.toggle(e)}}},[t._v(" ▼")]):n("button",{staticClass:"arrow"}),t._v(" "),t.selectable?n("a",{on:{click:function(n){return t.select(e)}}},[t._v(t._s(e.title||"根目录"))]):n("router-link",{attrs:{to:"/node/"+e.id}},[t._v(t._s(e.title||"根目录"))]),t._v(" "),n("contextmenu",{model:{value:e.contextmenu,callback:function(n){t.$set(e,"contextmenu",n)},expression:"node.contextmenu"}},[t._t("default",[n("div",{staticClass:"contextmenu"},[n("div",[n("button",{on:{click:function(n){return t.createSubFolder(e)}}},[t._v("新建子文件夹\n                            ")])]),t._v(" "),n("div",[n("button",{on:{click:function(n){return t.edit(e)}}},[t._v("编辑")])]),t._v(" "),n("div",[n("button",{on:{click:function(n){return t.remove(e)}}},[t._v(" 删除")])])])])],2)],1),t._v(" "),e.children?n("tree",{attrs:{tree:e.children}}):t._e()],1)}),0)},[],!1,null,"09cbd9fa",null).exports},data:function(){return{tree:[]}},created:function(){this.getData()},methods:{getData:function(){var t,e=(t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return!0,t.next=3,c.a.getTree(!0);case 3:this.tree=t.sent;case 4:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){f(a,r,o,i,c,"next",t)}function c(t){f(a,r,o,i,c,"throw",t)}i(void 0)})});return function(){return e.apply(this,arguments)}}()},watch:{"$root.event":function(t){var e=t.name,n=l(t.args,2),r=n[0],o=n[1];this.tree;if(!o.url){if("onRemoved"===e){return function t(e){for(var n=e.length;n--;){var o=e[n];o.id===r?e.splice(n,1):o.children&&t(o.children)}}(this.tree)}this.getData()}}}},d=(n(575),{name:"App",components:{AsideBar:Object(a.a)(v,function(){var t=this.$createElement,e=this._self._c||t;return e("aside",[e("tree",{attrs:{tree:this.tree}})],1)},[],!1,null,"6f5e08cf",null).exports,navBar:i},methods:{onResize:function(t){var e=this.$refs.aside.$el,n=e.offsetWidth;n+=t.moveX,console.log(e,n,t),e.style.width="".concat(n,"px")}}}),h=(n(576),Object(a.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("nav-bar"),this._v(" "),e("div",{attrs:{id:"view"}},[e("div",{attrs:{id:"main"}},[e("aside-bar",{ref:"aside"}),this._v(" "),e("drag-resize-bar",{on:{resize:this.onResize}}),this._v(" "),e("div",{ref:"content",attrs:{id:"content"}},[e("router-view")],1)],1)])],1)},[],!1,null,"6db2229e",null));e.a=h.exports},359:function(t,e,n){t.exports=n(360)},360:function(t,e,n){"use strict";n.r(e),function(t){n(235),n(273),n(274),n(275),n(276),n(561);var e=n(29),r=n(174),o=n(182),a=n(103),i=n(178),c=n(6),s=n(356);
/*!
 * Created by j on 2018-12-24.
 */
e.a.use(a.a),Object(i.a)(e.a),console.log(t.env),window.v=new e.a({el:"#app",router:r.a,store:o.a,data:{event:{name:"",args:""}},mounted:function(){var t=this;c.a.on(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console.log("bookmarks event => ",e,r),t.event={name:e,args:r}})},render:function(t){return t(s.a)}})}.call(this,n(234))},561:function(t,e,n){},573:function(t,e,n){"use strict";var r=n(167);n.n(r).a},574:function(t,e,n){"use strict";var r=n(168);n.n(r).a},575:function(t,e,n){"use strict";var r=n(169);n.n(r).a},576:function(t,e,n){"use strict";var r=n(170);n.n(r).a}},[[359,2,1,0]]]);
//# sourceMappingURL=app.js.map