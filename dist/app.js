(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{165:function(t,e,n){},166:function(t,e,n){},167:function(t,e,n){},168:function(t,e,n){},169:function(t,e,n){},173:function(t,e,n){"use strict";n(254),n(130);var r={name:"home",components:{shortcut:n(178).a}},a=n(5),o=Object(a.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("list-tool-bar"),this._v(" "),e("shortcut")],1)},[],!1,null,"672bf6c7",null).exports,i=n(174),c=n(68),s=n(69),u=n(7),l=n(22),f=n(28);function v(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=Object(l.b)("trash"),d={name:"trash",components:{toolBar:c.a,list:s.a},data:function(){return{bookmarkArray:[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){h(t,e,n[e])})}return t}({},Object(f.c)({reverse:function(t){return t.ui.list.reverse}})),created:function(){var t=this;this.getData();var e=function(e){console.log("db event listener",e),t.bookmarkArray.unshift(e[0])};m.on("add",e),this.$once("hook:beforeDestroy",function(){m.off("add",e)})},methods:{getData:function(){var t,e=(t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.get().then(function(t){return Object.values(t)});case 2:this.bookmarkArray=t.sent,this.reverse&&this.bookmarkArray.reverse();case 4:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function i(t){v(o,r,a,i,c,"next",t)}function c(t){v(o,r,a,i,c,"throw",t)}i(void 0)})});return function(){return e.apply(this,arguments)}}(),recover:function(t){u.a.recover(t),m.remove(t),this._remove(t)},remove:function(t){m.remove(t),this._remove(t)},clear:function(){confirm("确认清空回收站, 该操作不可撤销!")&&(m.clear(),this.bookmarkArray=[])},_remove:function(t){var e=this.bookmarkArray.findIndex(function(e){return e===t});this.bookmarkArray.splice(e,1)}},watch:{reverse:function(t){this.bookmarkArray.reverse()}}},p=Object(a.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("tool-bar",[n("button",{staticClass:"flex-middle active",attrs:{title:"清空回收站"},on:{click:t.clear}},[n("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),n("list",{attrs:{bookmarkArray:t.bookmarkArray},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.bookmark;return[n("button",{attrs:{title:"恢复"},on:{click:function(e){return t.recover(r)}}},[n("i",{staticClass:"fa fa-undo"})]),t._v(" "),n("button",{on:{click:function(e){return t.remove(r)}}},[n("i",{staticClass:"far fa-trash-alt"})])]}}])})],1)},[],!1,null,"7f88be5d",null).exports;e.a=[{name:"首页",path:"/home",component:o},{name:"常用",path:"/hot",component:function(){return n.e(0).then(n.bind(null,357))}},{name:"最近",path:"/recent",component:i.a},{name:"目录",path:"/node/:id",_path:"/node/38",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,890))}},{name:"treemap",path:"/treemap",component:function(){return Promise.all([n.e(1),n.e(0),n.e(7)]).then(n.bind(null,887))}},{name:"tree",path:"/tree",component:function(){return Promise.all([n.e(1),n.e(0),n.e(7)]).then(n.bind(null,356))}},{name:"回收站",path:"/trash",component:p},{name:"设置",path:"/setting",component:function(){return n.e(8).then(n.bind(null,889))}},{name:"search",path:"/search/:query",component:function(){return Promise.all([n.e(1),n.e(0),n.e(7)]).then(n.bind(null,888))}},{path:"*",redirect:{path:"/recent"}}]},353:function(t,e,n){"use strict";var r=n(29),a=n(230),o=n(173);
/*!
 * 
 * Created by j on 2019-01-07.
 */
r.a.use(a.a),e.a=new a.a({routes:o.a,scrollBehavior:function(t,e,n){return{x:0,y:0}}})},355:function(t,e,n){"use strict";var r=n(173),a=n(28);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i={name:"searchBar",data:function(){return{query:""}},mounted:function(){console.log(this,this.$route.params.query),this.query=this.$route.params.query},methods:{search:function(){var t=this.query;t&&this.$router.push({name:"search",params:{query:t}})}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}return t}({},Object(a.c)({}))},c=(n(571),n(5)),s={name:"navBar",components:{searchBar:Object(c.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field has-addons",staticStyle:{flex:"1"}},[n("div",{staticClass:"control",staticStyle:{width:"100%"}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.query,expression:"query",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",placeholder:""},domProps:{value:t.query},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:function(e){e.target.composing||(t.query=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("div",{staticClass:"control"},[n("a",{staticClass:"button is-primary search-btn",on:{click:function(e){return t.search()}}},[n("i",{staticClass:"fa fa-search"})])])])},[],!1,null,"3b588dab",null).exports},data:function(){return{routes:r.a}}},u=(n(572),Object(c.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",[n("div",{staticClass:"search-box"},[n("search-bar")],1),t._v(" "),n("div",{staticClass:"nav-items"},t._l(t.routes,function(e){return e.name&&"search"!=e.name?n("router-link",{key:e.path,staticClass:"nav-item hvr-underline-from-center",attrs:{to:e._path||e.path}},[n("span",[t._v(" "+t._s(e.name))])]):t._e()}),1)])},[],!1,null,"663aee83",null).exports),l=n(7),f=n(70),v={name:"tree",props:{tree:Array,selectable:{type:Boolean,default:!1}},methods:{edit:function(t){Object(f.b)(t)},createSubFolder:function(t){Object(f.a)(t)},remove:function(t){confirm("确认删除, 不可撤销!")&&l.a.remove(t)},toggle:function(t){this.$set(t,"extend",!t.extend)},onContextmenu:function(t,e){t.preventDefault(),this.$set(e,"contextmenu",t)},select:function(){}}};n(573);function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}var d={name:"asideBar",components:{tree:Object(c.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.tree,function(e){return n("li",{key:e.id,attrs:{node:e}},[n("div",{staticClass:"node-item",class:{extend:!e.extend,selected:e.contextmenu},on:{contextmenu:function(n){return t.onContextmenu(n,e)}}},[e.children&&e.children.length?n("button",{staticClass:"arrow",on:{click:function(n){return t.toggle(e)}}},[t._v(" ▼")]):n("button",{staticClass:"arrow"}),t._v(" "),t.selectable?n("a",{on:{click:function(n){return t.select(e)}}},[t._v(t._s(e.title||"根目录"))]):n("router-link",{attrs:{to:"/node/"+e.id}},[t._v(t._s(e.title||"根目录"))]),t._v(" "),n("contextmenu",{model:{value:e.contextmenu,callback:function(n){t.$set(e,"contextmenu",n)},expression:"node.contextmenu"}},[t._t("default",[n("div",{staticClass:"contextmenu"},[n("div",[n("button",{attrs:{title:"新建子文件夹"},on:{click:function(n){return t.createSubFolder(e)}}},[n("i",{staticClass:"fas fa-folder-plus"}),t._v("新建子文件夹\n                            ")])]),t._v(" "),n("div",[n("button",{attrs:{title:"编辑"},on:{click:function(n){return t.edit(e)}}},[n("i",{staticClass:"fas fa-edit"}),t._v("编辑")])]),t._v(" "),n("div",[n("button",{on:{click:function(n){return t.remove(e)}}},[n("i",{staticClass:"far fa-trash-alt"}),t._v(" 删除")])])])])],2)],1),t._v(" "),e.children?n("tree",{attrs:{tree:e.children}}):t._e()],1)}),0)},[],!1,null,"db428b64",null).exports},data:function(){return{tree:[]}},created:function(){this.getData()},methods:{getData:function(){var t,e=(t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return!0,t.next=3,l.a.getTree(!0);case 3:this.tree=t.sent;case 4:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function i(t){m(o,r,a,i,c,"next",t)}function c(t){m(o,r,a,i,c,"throw",t)}i(void 0)})});return function(){return e.apply(this,arguments)}}()},watch:{"$root.event":function(t){var e=t.name,n=h(t.args,2),r=n[0],a=n[1];this.tree;if(!a.url){if("onRemoved"===e){return function t(e){for(var n=e.length;n--;){var a=e[n];a.id===r?e.splice(n,1):a.children&&t(a.children)}}(this.tree)}this.getData()}}}},p=(n(574),{name:"App",components:{AsideBar:Object(c.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("aside",[e("tree",{attrs:{tree:this.tree}})],1)},[],!1,null,"6f5e08cf",null).exports,navBar:u},methods:{onResize:function(t){var e=this.$refs.aside.$el,n=e.offsetWidth;n+=t.moveX,console.log(e,n,t),e.style.width="".concat(n,"px")}}}),b=(n(575),Object(c.a)(p,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("nav-bar"),this._v(" "),e("div",{attrs:{id:"view"}},[e("div",{attrs:{id:"main"}},[e("aside-bar",{ref:"aside"}),this._v(" "),e("drag-resize-bar",{on:{resize:this.onResize}}),this._v(" "),e("div",{ref:"content",attrs:{id:"content"}},[e("router-view")],1)],1)])],1)},[],!1,null,"6db2229e",null));e.a=b.exports},358:function(t,e,n){t.exports=n(359)},359:function(t,e,n){"use strict";n.r(e),function(t){n(232),n(270),n(271),n(272),n(273),n(560);var e=n(29),r=n(353),a=n(179),o=n(103),i=n(177),c=n(7),s=n(355);
/*!
 * Created by j on 2018-12-24.
 */
e.a.use(o.a),Object(i.a)(e.a),console.log(t.env),window.v=new e.a({el:"#app",router:r.a,store:a.a,data:{event:{name:"",args:""}},mounted:function(){var t=this;c.a.on(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];console.log("bookmarks event => ",e,r),t.event={name:e,args:r}})},render:function(t){return t(s.a)}})}.call(this,n(231))},560:function(t,e,n){},571:function(t,e,n){"use strict";var r=n(165);n.n(r).a},572:function(t,e,n){"use strict";var r=n(166);n.n(r).a},573:function(t,e,n){"use strict";var r=n(167);n.n(r).a},574:function(t,e,n){"use strict";var r=n(168);n.n(r).a},575:function(t,e,n){"use strict";var r=n(169);n.n(r).a}},[[358,2,1,0]]]);
//# sourceMappingURL=app.js.map